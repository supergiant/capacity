<div class="stars"></div>
<div class="twinkling"></div>
<div class="liquid-sky">
  <!-- <img src="../../assets/img/liquid-sky-edit.png"> -->
</div>

<div class="cs-body">
  <div class="header">
    <div class="logo">
      <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 180 41">
        <defs>
          <style>
            .cls-1 {
              fill: #fff;
              fill-rule: evenodd;
            }

            .cls-2 {
              fill: url(#radial-gradient);
            }
          </style>
          <radialGradient id="radial-gradient" cx="0.156" cy="0.148" r="0.868" gradientTransform="matrix(0.692, 0.715, -0.709, 0.7, 0.153, -0.067)" gradientUnits="objectBoundingBox">
            <stop offset="0" stop-color="#e2007f"/>
            <stop offset="0.145" stop-color="#db0083"/>
            <stop offset="0.347" stop-color="#c9008d"/>
            <stop offset="0.585" stop-color="#ab009d"/>
            <stop offset="0.846" stop-color="#8200b5"/>
            <stop offset="1" stop-color="#6600c4"/>
          </radialGradient>
        </defs>
        <g id="logo" transform="translate(-14.723 -8.87)">
          <path id="Path_616" data-name="Path 616" class="cls-1" d="M176.137,40.387v-.028a4.729,4.729,0,0,1,4.809-4.778,5.059,5.059,0,0,1,3.583,1.254l-1.039,1.227a3.677,3.677,0,0,0-2.612-.99,3.137,3.137,0,0,0-3.024,3.257v.029a3.1,3.1,0,0,0,3.167,3.3,3.837,3.837,0,0,0,2.251-.7V41.23h-2.383V39.817h3.969V43.7a5.992,5.992,0,0,1-3.889,1.437,4.6,4.6,0,0,1-4.834-4.75Zm-53.622.672V35.74h1.638v5.253c0,1.714.893,2.622,2.359,2.622s2.345-.857,2.345-2.559V35.738h1.638v5.238c0,2.758-1.575,4.143-4.015,4.143s-3.969-1.385-3.969-4.069Zm-13.059,2.574.985-1.162a4.337,4.337,0,0,0,2.944,1.2c1.013,0,1.652-.475,1.652-1.162v-.026c0-.66-.372-1.016-2.1-1.413-1.982-.474-3.1-1.056-3.1-2.758v-.026c0-1.583,1.334-2.679,3.184-2.679a5.191,5.191,0,0,1,3.385,1.163L115.525,38a4.259,4.259,0,0,0-2.532-.948c-.956,0-1.518.488-1.518,1.1v.028c0,.715.43,1.033,2.228,1.453,1.976.477,2.984,1.175,2.984,2.707v.028c0,1.731-1.369,2.758-3.328,2.758a5.776,5.776,0,0,1-3.889-1.475Zm98.789,1.347h-1.73l-.945-2.231h-4.41l-.956,2.236h-1.678l4.1-9.307h1.518l4.107,9.307Zm-43.62,0h-1.638V35.741h4.158a3.779,3.779,0,0,1,2.692.924,2.8,2.8,0,0,1,.773,2v.028a2.774,2.774,0,0,1-2.211,2.8l2.52,3.5h-1.942l-2.291-3.218h-2.05V45Zm-26.02,0h-1.638V35.741h3.677c2.188,0,3.545,1.227,3.545,3.088v.027c0,2.071-1.678,3.154-3.729,3.154h-1.85v2.97ZM235.2,37.244h-2.957v7.735H230.59V37.244h-2.958v-1.5H235.2Zm-78.384-.052H151.54V39.6h4.675v1.453h-4.676v2.486h5.342v1.453H149.9V35.745h6.913V37.2Zm58.647,7.791h-1.611V35.745h1.518l4.994,6.388V35.739h1.613v9.239H220.6l-5.141-6.571v6.571Zm-22.555,0h-1.639V35.745h1.639Zm12.062-3.669-1.612-3.7-1.6,3.7h3.21Zm-64.46-.766c1.239,0,2.01-.687,2.01-1.649v-.028c0-1.084-.785-1.651-2.01-1.651h-1.9v3.325h1.9Zm26.512-.224c1.172,0,1.919-.607,1.919-1.544v-.028c0-.987-.72-1.527-1.932-1.527h-2.383v3.1h2.4Z" transform="translate(-40.476 -10.82)"/>
          <g id="logo_sign" transform="translate(14.723 8.87)">
            <path id="Union_1" data-name="Union 1" class="cls-2" d="M18640.4,22917.891a20.431,20.431,0,0,1,11.828-26.5,20.832,20.832,0,0,1,21.094,3.689,45.632,45.632,0,0,0-10.3,2.676,40.994,40.994,0,0,0-13.676,8.307,1.186,1.186,0,0,0-1.082-.109,1.168,1.168,0,0,0-.672,1.514.877.877,0,0,0,.172.293c-2.705,3.193-3.822,6.424-2.779,9.105,2.273,5.848,14.049,6.773,26.291,2.066a47.309,47.309,0,0,0,8.7-4.393,20.518,20.518,0,0,1-12.818,15.08,20.758,20.758,0,0,1-26.752-11.725Zm5.381-1.824c-.908-2.324.076-5.15,2.424-7.953a1.167,1.167,0,0,0,.932.033,1.153,1.153,0,0,0,.674-1.514,1.238,1.238,0,0,0-.074-.166,40.167,40.167,0,0,1,13.484-8.174,45.91,45.91,0,0,1,10.643-2.717,20.919,20.919,0,0,1,1.658,1.717,31.165,31.165,0,0,0-11.816,2.232c-9.186,3.527-15.258,9.951-13.543,14.344.633,1.645,2.238,2.75,4.488,3.344a1.736,1.736,0,0,0,.133.535,1.946,1.946,0,0,0,3.648-.059,31.537,31.537,0,0,0,11.477-2.25,30.616,30.616,0,0,0,10.418-6.389,22.35,22.35,0,0,1-.021,3.563,46.483,46.483,0,0,1-9.537,4.949,41.822,41.822,0,0,1-14.564,2.98C18650.9,22920.543,18646.939,22919.02,18645.779,22916.066Zm12.6.242a1.943,1.943,0,0,0-3.373-.369c-2.072-.482-3.521-1.443-4.08-2.865-1.508-3.873,4.281-9.711,12.967-13.031a29.969,29.969,0,0,1,12.07-2.215,20.216,20.216,0,0,1,1.4,2.014c-2.684-1.02-7.379-.627-12.26,1.232a21.984,21.984,0,0,0-8.979,5.875,1.47,1.47,0,0,0-1.025,0,1.39,1.39,0,0,0-.8,1.809,1.255,1.255,0,0,0,.5.645,2.9,2.9,0,0,0,.092,1.68c1.141,2.936,7.545,3.2,14.332.594,5.139-1.957,9-5.008,10.078-7.645a20.47,20.47,0,0,1,.816,3.27,29.025,29.025,0,0,1-10.746,6.77,31.4,31.4,0,0,1-10.883,2.238Zm-2.648-6.02a1.567,1.567,0,0,1-.131-.645,1.381,1.381,0,0,0,.523-.094,1.4,1.4,0,0,0,.8-1.812,1.358,1.358,0,0,0-.316-.477c1.549-1.957,4.732-4.1,8.721-5.631,6.221-2.383,12.035-2.383,12.984,0,.932,2.4-3.355,6.258-9.6,8.658a24.866,24.866,0,0,1-8.48,1.787C18657.883,22912.076,18656.2,22911.48,18655.73,22910.289Zm9.779-7.42a3.349,3.349,0,0,0-1.934,4.352,3.417,3.417,0,0,0,4.4,1.922,3.368,3.368,0,0,0,1.934-4.357,3.427,3.427,0,0,0-4.4-1.916Z" transform="translate(-18639 -22890)"/>
          </g>
        </g>
      </svg>
    </div>
  </div>
  <div class="headline">Capacity Service</div>
  <div class="cluster-controls">

    <div class="node-list ctrl-group">
      <div class="node-list-headline-wrapper">
        <span class="node-list-headline">NODES</span>
      </div>
        <mat-table [dataSource]="workers" class="node-table" matSort matSortActive="machineName" matSortDirection="asc">
          <ng-container matColumnDef="machineName">
            <mat-header-cell mat-sort-header *matHeaderCellDef>Name</mat-header-cell>
            <mat-cell *matCellDef="let worker">{{ worker.machineName }}</mat-cell>
          </ng-container>

          <ng-container matColumnDef="machineType">
            <mat-header-cell mat-sort-header *matHeaderCellDef>Type</mat-header-cell>
            <mat-cell *matCellDef="let worker">{{ worker.machineType }}</mat-cell>
          </ng-container>
          <ng-container matColumnDef="machineId">
            <mat-header-cell mat-sort-header *matHeaderCellDef>ID</mat-header-cell>
            <mat-cell *matCellDef="let worker">{{ worker.machineID }}</mat-cell>
          </ng-container>

          <ng-container matColumnDef="reserved">
            <mat-header-cell mat-sort-header *matHeaderCellDef class="small-header">Rsrv?</mat-header-cell>
            <mat-cell *matCellDef="let worker">
              <mat-checkbox [checked]="worker.reserved" color="primary" (change)="toggleWorkerReserved($event.checked, worker.machineID)"></mat-checkbox>
            </mat-cell>
          </ng-container>

          <ng-container matColumnDef="delete">
            <mat-header-cell *matHeaderCellDef>Del?</mat-header-cell>
            <mat-cell *matCellDef="let worker">
              <svg (click)="deleteNode(worker.machineID)" class="delete" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="24px"
                 height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve" fill="#D10088">
              <g id="Header_x2F_BG" display="none">
                <rect x="-270" y="-270" display="inline" fill="#F1F1F2" width="520" height="520"/>
              </g>
              <g id="Bounding_Boxes">
                <g id="ui_x5F_spec_x5F_header_copy_3">
                </g>
                <path fill="none" d="M0,0h24v24H0V0z"/>
              </g>
              <g id="Rounded" display="none">
                <g id="ui_x5F_spec_x5F_header_copy_5" display="inline">
                </g>
                <path display="inline" d="M6,19c0,1.1,0.9,2,2,2h8c1.1,0,2-0.9,2-2V9c0-1.1-0.9-2-2-2H8C6.9,7,6,7.9,6,9V19z M18,4h-2.5l-0.71-0.71
                  C14.61,3.11,14.35,3,14.09,3H9.91C9.65,3,9.39,3.11,9.21,3.29L8.5,4H6C5.45,4,5,4.45,5,5v0c0,0.55,0.45,1,1,1h12c0.55,0,1-0.45,1-1
                  v0C19,4.45,18.55,4,18,4z"/>
              </g>
              <g id="Sharp" display="none">
                <g id="ui_x5F_spec_x5F_header_copy_4" display="inline">
                </g>
                <path display="inline" d="M6,21h12V7H6V21z M19,4h-3.5l-1-1h-5l-1,1H5v2h14V4z"/>
              </g>
              <g id="Outline">
                <g id="ui_x5F_spec_x5F_header">
                </g>
                <path id="XMLID_282_" d="M16,9v10H8V9H16 M14.5,3h-5l-1,1H5v2h14V4h-3.5L14.5,3L14.5,3z M18,7H6v12c0,1.1,0.9,2,2,2h8
                  c1.1,0,2-0.9,2-2V7L18,7z"/>
              </g>
              <g id="Duotone" display="none">
                <g id="ui_x5F_spec_x5F_header_copy_2" display="inline">
                </g>
                <g display="inline">
                  <rect x="8" y="9" opacity="0.3" width="8" height="10"/>
                  <g>
                    <polygon points="15.5,4 14.5,3 9.5,3 8.5,4 5,4 5,6 19,6 19,4      "/>
                    <path d="M6,19c0,1.1,0.9,2,2,2h8c1.1,0,2-0.9,2-2V7H6V19z M8,9h8v10H8V9z"/>
                  </g>
                </g>
              </g>
              <g id="Fill" display="none">
                <g id="ui_x5F_spec_x5F_header_copy" display="inline">
                </g>
                <path display="inline" d="M6,19c0,1.1,0.9,2,2,2h8c1.1,0,2-0.9,2-2V7H6V19z M19,4h-3.5l-1-1h-5l-1,1H5v2h14V4z"/>
              </g>
              <g id="nyt_x5F_exporter_x5F_info" display="none">
              </g>
              </svg>
            </mat-cell>
          </ng-container>

          <mat-header-row *matHeaderRowDef="nodeListColumns"></mat-header-row>
          <mat-row *matRowDef="let row; columns: nodeListColumns"></mat-row>

        </mat-table>
        <mat-paginator [pageSizeOptions]="[5, 10, 25, 100]" color="primary"></mat-paginator>
      <div class="node-actions">
        <mat-form-field class="new-node-field" color="primary">
          <mat-select [(value)]="newNodeType" placeholder="Choose a type">
            <mat-option>None</mat-option>
            <mat-option *ngFor="let node of allowedNodeTypes" [value]="node">{{ node }}</mat-option>
          </mat-select>
        </mat-form-field>
        <button mat-raised-button color="primary" [disabled]="!newNodeType" (click)="addNewNode(newNodeType)">ADD</button>
      </div>
    </div>

    <div class="power ctrl-group">
      <div class="power-switch orb" [ngClass]="{ 'active': !config?.paused, 'inactive': config?.paused }" (click)="toggleCapService(config.paused)">
        <div *ngIf="config?.paused">
          <p class="text">START</p>
        </div>
        <div *ngIf="!config?.paused">
          <p class="text">PAUSE</p>
          <p class="status"><span *ngIf="config?.paused">STOPPED</span><span *ngIf="!config?.paused">RUNNING</span></p>
        </div>
      </div>

      <div class="min-max-wrapper">
        <div class="count-control">
          <div class="count-control-group max">
            <span class="count-label">MAXIMUM</span>
            <div class="counter">
              <div class="operator" [ngClass]="{ 'disable': currentWorkersCountMax === 0 }" (click)="decMax($event)">
                <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="24px"
                     height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve">
                  <g id="Bounding_Boxes">
                    <g id="ui_x5F_spec_x5F_header_copy_3" display="none">
                    </g>
                    <path fill="none" d="M0,0h24v24H0V0z"/>
                  </g>
                  <g id="Outline">
                    <g id="ui_x5F_spec_x5F_header" display="none">
                    </g>
                    <path d="M7,11v2h10v-2H7z M12,2C6.48,2,2,6.48,2,12s4.48,10,10,10s10-4.48,10-10S17.52,2,12,2z M12,20c-4.41,0-8-3.59-8-8
                      s3.59-8,8-8s8,3.59,8,8S16.41,20,12,20z"/>
                  </g>
                </svg>
              </div>
              <div class="count orb"><span>{{ currentWorkersCountMax }}</span></div>
              <div class="operator" (click)="incMax($event)">
                <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="24px"
                     height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve">
                  <g id="Bounding_Boxes">
                    <g id="ui_x5F_spec_x5F_header_copy_3" display="none">
                    </g>
                    <path fill="none" d="M0,0h24v24H0V0z"/>
                  </g>
                  <g id="Outline">
                    <g id="ui_x5F_spec_x5F_header" display="none">
                    </g>
                    <path d="M13,7h-2v4H7v2h4v4h2v-4h4v-2h-4V7z M12,2C6.48,2,2,6.48,2,12s4.48,10,10,10s10-4.48,10-10S17.52,2,12,2z M12,20
                      c-4.41,0-8-3.59-8-8s3.59-8,8-8s8,3.59,8,8S16.41,20,12,20z"/>
                  </g>
                </svg>
              </div>
            </div>
          </div>
          <div class="count-control-group min">
            <span class="count-label">MINIMUM</span>
            <div class="counter">
              <div class="operator" [ngClass]="{ 'disable': currentWorkersCountMin === 0 }" (click)="decMin($event)">
                <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="24px"
                     height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve">
                  <g id="Bounding_Boxes">
                    <g id="ui_x5F_spec_x5F_header_copy_3" display="none">
                    </g>
                    <path fill="none" d="M0,0h24v24H0V0z"/>
                  </g>
                  <g id="Outline">
                    <g id="ui_x5F_spec_x5F_header" display="none">
                    </g>
                    <path d="M7,11v2h10v-2H7z M12,2C6.48,2,2,6.48,2,12s4.48,10,10,10s10-4.48,10-10S17.52,2,12,2z M12,20c-4.41,0-8-3.59-8-8
                      s3.59-8,8-8s8,3.59,8,8S16.41,20,12,20z"/>
                  </g>
                </svg>
              </div>
              <div class="count orb"><span>{{ currentWorkersCountMin }}</span></div>
              <div class="operator" (click)="incMin($event)">
                <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="24px"
                     height="24px" viewBox="0 0 24 24" enable-background="new 0 0 24 24" xml:space="preserve">
                  <g id="Bounding_Boxes">
                    <g id="ui_x5F_spec_x5F_header_copy_3" display="none">
                    </g>
                    <path fill="none" d="M0,0h24v24H0V0z"/>
                  </g>
                  <g id="Outline">
                    <g id="ui_x5F_spec_x5F_header" display="none">
                    </g>
                    <path d="M13,7h-2v4H7v2h4v4h2v-4h4v-2h-4V7z M12,2C6.48,2,2,6.48,2,12s4.48,10,10,10s10-4.48,10-10S17.52,2,12,2z M12,20
                      c-4.41,0-8-3.59-8-8s3.59-8,8-8s8,3.59,8,8S16.41,20,12,20z"/>
                  </g>
                </svg>
              </div>
            </div>
          </div>
        </div>
        <div>
          <mat-error *ngIf="nodesCountError">Max nodes must be greater than or equal to min nodes</mat-error>
        </div>
        <button mat-raised-button color="primary"
          [disableRipple]="true"
          [disabled]="!enableSetNodesCount || nodesCountError"
          (click)="setNodesCount(currentWorkersCountMax, currentWorkersCountMin)">Set</button>
      </div>
    </div>

    <div class="node-types ctrl-group">
      <div class="available-node-types-wrapper">
        <p class="node-types-headline">
          AVAILABLE NODE TYPES
        </p>
        <div class="available-nodes-list">
          <span class="node-card" *ngFor="let node of allowedNodeTypes">
            {{ node }}
          </span>
        </div>
        <button mat-raised-button color="primary" (click)="editAvailableNodeTypes()">EDIT</button>
      </div>
    </div>

  </div>
</div>

